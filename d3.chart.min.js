(function(){function q(a){return d3.keys(a[0])}function p(a,b){return a[b]}function o(a){return a.y}function n(a){return a.x}function m(a,b){var c=b.length-1;b=b.slice().sort(d3.ascending);return d3.range(a).map(function(d){return b[~~(d*c/a)]})}function l(a){return a[1]}function k(a){return a[0]}function h(a){var b=a(0);return function(c){return Math.abs(a(c)-b)}}function g(a){return function(b){return"translate("+a(b)+",0)"}}function f(a){return a.measures}function e(a){return a.markers}function d(a){return a.ranges}function c(a){var b=a.length;return[.25,.5,.75].map(function(c){c*=b;return~~c===c?(a[c]+a[c+1])/2:a[Math.round(c)]})}function b(a){return[0,a.length-1]}d3.chart={},d3.chart.axis=function(){function g(g){g.each(function(g,h){var i=d3.select(this),j=c||f[1].tickFormat(d),k=a[b],l=i.selectAll("g").data(f[1].ticks(d),function(a){return this.textContent||j(a)}),m=l.enter().append("svg:g").call(k,f[0],1e-6),n=m.append("svg:text").text(j),o=m.append("svg:line");b=="left"?(n.attr("text-anchor","end").attr("x",-9).attr("dy",".35em"),o.attr("x2",-6)):(n.attr("text-anchor","middle").attr("y",9).attr("dy",".71em"),o.attr("y2",6)),l.transition().duration(e).call(k,f[1],1),l.exit().transition().duration(e).call(k,f[1],1e-6).remove()})}var b="left",c=null,d=10,e=0,f;g.orient=function(c){if(!arguments.length)return b;b=c in a?c:"left";return g},g.tickFormat=function(a){if(!arguments.length)return c;c=a;return g},g.tickCount=function(a){if(!arguments.length)return d;d=a;return g},g.scales=function(a){if(!arguments.length)return f;f=a;return g},g.duration=function(a){if(!arguments.length)return e;e=a;return g};return g};var a={left:function(a,b,c){a.attr("transform",function(a){return"translate(0,"+b(a)+")"}).style("opacity",c)},bottom:function(a,b,c){a.attr("transform",function(a){return"translate("+b(a)+",0)"}).style("opacity",c)}};d3.chart.box=function(){function k(b){b.each(function(b,c){b=b.map(g).sort(d3.ascending);var k=d3.select(this),l=b.length,m=b[0],n=b[l-1],o=b.quartiles=i(b),p=h&&h.call(this,b,c),q=p&&p.map(function(a){return b[a]}),r=p?d3.range(0,p[0]).concat(d3.range(p[1]+1,l)):d3.range(l),s=d3.scale.linear().domain(f&&f.call(this,b,c)||[m,n]).range([d,0]),t=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(s.range());this.__chart__=s;var u=k.selectAll("line.center").data(q?[q]:[]);u.enter().insert("svg:line","rect").attr("class","center").attr("x1",a/2).attr("y1",function(a){return t(a[0])}).attr("x2",a/2).attr("y2",function(a){return t(a[1])}).style("opacity",1e-6).transition().duration(e).style("opacity",1).attr("y1",function(a){return s(a[0])}).attr("y2",function(a){return s(a[1])}),u.transition().duration(e).style("opacity",1).attr("y1",function(a){return s(a[0])}).attr("y2",function(a){return s(a[1])}),u.exit().transition().duration(e).style("opacity",1e-6).attr("y1",function(a){return s(a[0])}).attr("y2",function(a){return s(a[1])}).remove();var v=k.selectAll("rect.box").data([o]);v.enter().append("svg:rect").attr("class","box").attr("x",0).attr("y",function(a){return t(a[2])}).attr("width",a).attr("height",function(a){return t(a[0])-t(a[2])}).transition().duration(e).attr("y",function(a){return s(a[2])}).attr("height",function(a){return s(a[0])-s(a[2])}),v.transition().duration(e).attr("y",function(a){return s(a[2])}).attr("height",function(a){return s(a[0])-s(a[2])});var w=k.selectAll("line.median").data([o[1]]);w.enter().append("svg:line").attr("class","median").attr("x1",0).attr("y1",t).attr("x2",a).attr("y2",t).transition().duration(e).attr("y1",s).attr("y2",s),w.transition().duration(e).attr("y1",s).attr("y2",s);var x=k.selectAll("line.whisker").data(q||[]);x.enter().insert("svg:line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",t).attr("x2",a).attr("y2",t).style("opacity",1e-6).transition().duration(e).attr("y1",s).attr("y2",s).style("opacity",1),x.transition().duration(e).attr("y1",s).attr("y2",s).style("opacity",1),x.exit().transition().duration(e).attr("y1",s).attr("y2",s).style("opacity",1e-6).remove();var y=k.selectAll("circle.outlier").data(r,Number);y.enter().insert("svg:circle","text").attr("class","outlier").attr("r",5).attr("cx",a/2).attr("cy",function(a){return t(b[a])}).style("opacity",1e-6).transition().duration(e).attr("cy",function(a){return s(b[a])}).style("opacity",1),y.transition().duration(e).attr("cy",function(a){return s(b[a])}).style("opacity",1),y.exit().transition().duration(e).attr("cy",function(a){return s(b[a])}).style("opacity",1e-6).remove();var z=j||s.tickFormat(8),A=k.selectAll("text.box").data(o);A.enter().append("svg:text").attr("class","box").attr("dy",".3em").attr("dx",function(a,b){return b&1?6:-6}).attr("x",function(b,c){return c&1?a:0}).attr("y",t).attr("text-anchor",function(a,b){return b&1?"start":"end"}).text(z).transition().duration(e).attr("y",s),A.transition().duration(e).text(z).attr("y",s);var B=k.selectAll("text.whisker").data(q||[]);B.enter().append("svg:text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",a).attr("y",t).text(z).style("opacity",1e-6).transition().duration(e).attr("y",s).style("opacity",1),B.transition().duration(e).text(z).attr("y",s).style("opacity",1),B.exit().transition().duration(e).attr("y",s).style("opacity",1e-6).remove()}),d3.timer.flush()}var a=1,d=1,e=0,f=null,g=Number,h=b,i=c,j=null;k.width=function(b){if(!arguments.length)return a;a=b;return k},k.height=function(a){if(!arguments.length)return d;d=a;return k},k.tickFormat=function(a){if(!arguments.length)return j;j=a;return k},k.duration=function(a){if(!arguments.length)return e;e=a;return k},k.domain=function(a){if(!arguments.length)return f;f=a==null?a:d3.functor(a);return k},k.value=function(a){if(!arguments.length)return g;g=a;return k},k.whiskers=function(a){if(!arguments.length)return h;h=a;return k},k.quartiles=function(a){if(!arguments.length)return i;i=a;return k};return k},d3.chart.bullet=function(){function o(a){a.each(function(a,d){var e=g.call(this,a,d).slice().sort(d3.descending),f=i.call(this,a,d).slice().sort(d3.descending),m=j.call(this,a,d).slice().sort(d3.descending),o=d3.select(this),p=d3.scale.linear().domain([0,Math.max(e[0],f[0],m[0])]).range(b?[k,0]:[0,k]),q=this.__chart__&&this.__chart__.x||p,r=o.selectAll(".axis").data([]);r.enter().append("svg:g").attr("class","axis"),r.call(n.scales([q,p])),this.__chart__={x:p};var s=h(q),t=h(p),u=o.selectAll("rect.range").data(e);u.enter().append("svg:rect").attr("class",function(a,b){return"range s"+b}).attr("width",s).attr("height",l).attr("x",b?q:0).transition().duration(c).attr("width",t).attr("x",b?p:0),u.transition().duration(c).attr("x",b?p:0).attr("width",t).attr("height",l);var v=o.selectAll("rect.measure").data(m);v.enter().append("svg:rect").attr("class",function(a,b){return"measure s"+b}).attr("width",s).attr("height",l/3).attr("x",b?q:0).attr("y",l/3).transition().duration(c).attr("width",t).attr("x",b?p:0),v.transition().duration(c).attr("width",t).attr("height",l/3).attr("x",b?p:0).attr("y",l/3);var w=o.selectAll("line.marker").data(f);w.enter().append("svg:line").attr("class","marker").attr("x1",q).attr("x2",q).attr("y1",l/6).attr("y2",l*5/6).transition().duration(c).attr("x1",p).attr("x2",p),w.transition().duration(c).attr("x1",p).attr("x2",p).attr("y1",l/6).attr("y2",l*5/6)}),d3.timer.flush()}var a="left",b=!1,c=0,g=d,i=e,j=f,k=380,l=30,m=null,n=d3.chart.axis().orient("bottom").size(l).tickCount(8);o.orient=function(c){if(!arguments.length)return a;a=c,b=a=="right"||a=="bottom";return o},o.ranges=function(a){if(!arguments.length)return g;g=a;return o},o.markers=function(a){if(!arguments.length)return i;i=a;return o},o.measures=function(a){if(!arguments.length)return j;j=a;return o},o.width=function(a){if(!arguments.length)return k;k=a;return o},o.height=function(a){if(!arguments.length)return l;n.size(l=a);return o},o.tickFormat=function(a){if(!arguments.length)return m;n.tickFormat(m=a);return o},o.duration=function(a){if(!arguments.length)return c;n.duration(c=a);return o};return o},d3.chart.horizon=function(){function n(k){k.each(function(k,l){var n=d3.select(this),o=2*a+1,p=Infinity,q=-Infinity,r=-Infinity,s,t,u,v=k.map(function(a,b){var c=d.call(this,a,b),f=e.call(this,a,b);c<p&&(p=c),c>q&&(q=c),-f>r&&(r=-f),f>r&&(r=f);return[c,f]}),z=d3.scale.linear().domain([p,q]).range([0,f]),A=d3.scale.linear().domain([0,r]).range([0,g*a]);this.__chart__?(s=this.__chart__.x,t=this.__chart__.y,u=this.__chart__.id):(s=d3.scale.linear().domain([0,Infinity]).range(z.range()),t=d3.scale.linear().domain([0,Infinity]).range(A.range()),u=++j);var B=n.selectAll("defs").data([v]),C=B.enter().append("svg:defs");C.append("svg:clipPath").attr("id","d3_chart_horizon_clip"+u).append("svg:rect").attr("width",f).attr("height",g),B.select("rect").transition().duration(h).attr("width",f).attr("height",g),C.append("svg:path").attr("id","d3_chart_horizon_path"+u).attr("d",i.interpolate(c).x(function(a){return s(a[0])}).y0(g*a).y1(function(b){return g*a-t(b[1])})).transition().duration(h).attr("d",i.x(function(a){return z(a[0])}).y1(function(b){return g*a-A(b[1])})),B.select("path").transition().duration(h).attr("d",i),n.selectAll("g").data([null]).enter().append("svg:g").attr("clip-path","url(#d3_chart_horizon_clip"+u+")");var D=b=="offset"?function(b){return"translate(0,"+(b+(b<0)-a)*g+")"}:function(b){return(b<0?"scale(1,-1)":"")+"translate(0,"+(b-a)*g+")"},E=n.select("g").selectAll("use").data(d3.range(-1,-a-1,-1).concat(d3.range(1,a+1)),Number);E.enter().append("svg:use").attr("xlink:href","#d3_chart_horizon_path"+u).attr("transform",function(a){return D(a+(a>0?1:-1))}).style("fill",m).transition().duration(h).attr("transform",D),E.transition().duration(h).attr("transform",D).style("fill",m),E.exit().transition().duration(h).attr("transform",D).remove(),this.__chart__={x:z,y:A,id:u}}),d3.timer.flush()}var a=1,b="offset",c="linear",d=k,e=l,f=960,g=40,h=0,m=d3.scale.linear().domain([-1,0,1]).range(["#d62728","#fff","#1f77b4"]);n.duration=function(a){if(!arguments.length)return h;h=+a;return n},n.bands=function(b){if(!arguments.length)return a;a=+b,m.domain([-a,0,a]);return n},n.mode=function(a){if(!arguments.length)return b;b=a+"";return n},n.colors=function(a){if(!arguments.length)return m.range();m.range(a);return n},n.interpolate=function(a){if(!arguments.length)return c;c=a+"";return n},n.x=function(a){if(!arguments.length)return d;d=a;return n},n.y=function(a){if(!arguments.length)return e;e=a;return n},n.width=function(a){if(!arguments.length)return width;f=+a;return n},n.height=function(a){if(!arguments.length)return height;g=+a;return n};return n};var i=d3.svg.area(),j=0;d3.chart.qq=function(){function k(e){e.each(function(e,k){var l=d3.select(this),n=m(f,g.call(this,e,k)),o=m(f,h.call(this,e,k)),p=d&&d.call(this,e,k)||[d3.min(n),d3.max(n)],q=d&&d.call(this,e,k)||[d3.min(o),d3.max(o)],r=d3.scale.linear().domain(p).range([0,a]),s=d3.scale.linear().domain(q).range([b,0]),t=this.__chart__&&this.__chart__.x||r,u=this.__chart__&&this.__chart__.y||s,v=l.selectAll(".x.axis").data([]);v.enter().append("svg:g").attr("class","x axis"),v.attr("transform","translate(0,"+b+")").call(i.scales([t,r]));var w=l.selectAll(".y.axis").data([]);w.enter().append("svg:g").attr("class","y axis"),w.call(j.scales([u,s])),this.__chart__={x:r,y:s};var z=l.selectAll("line.diagonal").data([null]);z.enter().append("svg:line").attr("class","diagonal").attr("x1",r(q[0])).attr("y1",s(p[0])).attr("x2",r(q[1])).attr("y2",s(p[1])),z.transition().duration(c).attr("x1",r(q[0])).attr("y1",s(p[0])).attr("x2",r(q[1])).attr("y2",s(p[1]));var A=l.selectAll("circle").data(d3.range(f).map(function(a){return{x:n[a],y:o[a]}}));A.enter().append("svg:circle").attr("class","quantile").attr("r",4.5).attr("cx",function(a){return t(a.x)}).attr("cy",function(a){return u(a.y)}).style("opacity",1e-6).transition().duration(c).attr("cx",function(a){return r(a.x)}).attr("cy",function(a){return s(a.y)}).style("opacity",1),A.transition().duration(c).attr("cx",function(a){return r(a.x)}).attr("cy",function(a){return s(a.y)}).style("opacity",1),A.exit().transition().duration(c).attr("cx",function(a){return r(a.x)}).attr("cy",function(a){return s(a.y)}).style("opacity",1e-6).remove()})}var a=1,b=1,c=0,d=null,e=null,f=100,g=n,h=o,i=d3.chart.axis().orient("bottom").tickCount(3),j=d3.chart.axis().orient("left").tickCount(3);k.width=function(b){if(!arguments.length)return a;a=b;return k},k.height=function(a){if(!arguments.length)return b;b=a;return k},k.duration=function(a){if(!arguments.length)return c;c=a;return k},k.domain=function(a){if(!arguments.length)return d;d=a==null?a:d3.functor(a);return k},k.count=function(a){if(!arguments.length)return f;f=a;return k},k.x=function(a){if(!arguments.length)return g;g=a;return k},k.y=function(a){if(!arguments.length)return h;h=a;return k},k.tickFormat=function(a){if(!arguments.length)return e;e=a,i.tickFormat(e),j.tickFormat(e);return k};return k},d3.chart.radar=function(){function i(f){f.each(function(f,i){function z(a){return function(b,c){return a(b.map(function(a){return a.value}),c)+"z"}}function s(a,b){return function(c,d){return a(c)*Math.sin(Math.PI*b(d)/180)}}function r(a,b){return function(c,d){return a(c)*Math.cos(Math.PI*b(d)/180)}}var j=d3.select(this),k=e.call(this,f,i),l=f.map(function(a){return k.map(function(b){return{key:b,value:d(a,b)}})}),m=d3.max(l,function(a){return d3.max(a)}),n=d3.scale.linear().domain(c&&c.call(this,f,i)||[0,m]).range([0,a]),o=d3.scale.linear().domain([0,k.length]).range([0,360]),p,q;this.__chart__?(p=this.__chart__.x,q=this.__chart__.a):(p=d3.scale.linear().domain([0,Infinity]).range(n.range()),q=d3.scale.linear().domain([0,Infinity]).range(o.range())),j.call(h.scales([p,n])),this.__chart__={x:n,a:o};var t=r(p,q),u=s(p,q),v=r(n,o),w=s(n,o),x=z(d3.svg.line().x(t).y(u)),y=z(d3.svg.line().x(v).y(w)),A=j.select("g.axes");A.empty()&&(A=j.append("svg:g").attr("class","axes"));var B=function(a,b){return"rotate("+q(b)+")"},C=function(a,b){return"rotate("+o(b)+")"},D=A.selectAll("line").data(k,String);D.enter().append("svg:line").attr("x1",0).attr("y1",0).attr("x2",p.range()[1]).attr("y2",0).attr("transform",B).transition().duration(b).attr("transform",C).attr("x2",n.range()[1]),D.transition().duration(b).attr("x2",n.range()[1]).attr("transform",C),D.exit().remove();var E=A.selectAll("g").data(k,String),F=E.enter().append("svg:g").attr("transform",function(a,b){return B(a,b)+"translate("+(p.range()[1]+g)+")"});F.transition().duration(b).attr("transform",function(a,b){return C(a,b)+"translate("+(n.range()[1]+g)+")"}),F.append("svg:text").attr("text-anchor","middle").attr("dy",".3em").attr("transform",function(a,b){return B(a,-b)}).transition().duration(b).text(String).attr("transform",function(a,b){return C(a,-b)}),E.select("text").transition().duration(b).attr("transform",function(a,b){return C(a,-b)}).text(String),E.transition().duration(b).attr("transform",function(a,b){return C(a,b)+"translate("+(n.range()[1]+g)+")"}),E.exit().remove();var G=j.selectAll("g.observation").data(l),H=G.enter().append("svg:g").attr("class",function(a,b){return"observation ob"+b});H.append("svg:path").attr("d",x).transition().duration(b).attr("d",y);var I=j.selectAll("g.observation").selectAll("circle").data(Object,function(a){return a.key});I.enter().append("svg:circle").attr("r",5.5).attr("transform",function(a,b){return B(a,b)+"translate("+p(a.value)+")"}).transition().duration(b).attr("transform",function(a,b){return C(a,b)+"translate("+n(a.value)+")"}),I.transition().duration(b).attr("transform",function(a,b){return C(a,b)+"translate("+n(a.value)+")"}),I.exit().remove(),G.select("path").attr("d",x).transition().duration(b).attr("d",y),G.exit().remove()})}var a=1,b=0,c=null,d=p,e=q,f=null,g=14.5,h=d3.chart.axis().orient("bottom").tickCount(5);i.radius=function(b){if(!arguments.length)return a;a=b;return i},i.tickFormat=function(a){if(!arguments.length)return f;h.tickFormat(f=a);return i},i.duration=function(a){if(!arguments.length)return b;b=a;return i},i.domain=function(a){if(!arguments.length)return c;c=a==null?a:d3.functor(a);return i},i.value=function(a){if(!arguments.length)return d;d=a;return i},i.variables=function(a){if(!arguments.length)return e;e=a==null?a:d3.functor(a);return i};return i}})()